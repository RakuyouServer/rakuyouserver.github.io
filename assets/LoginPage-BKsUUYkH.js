import{d as U,l as de,r as C,m as q,p as u,q as X,g as i,s as E,P as te,t as ue,v as fe,K as me,x as W,y as pe,z as P,A,B as be,D as J,E as oe,F as ve,G as re,H as ge,I as he,c as F,J as xe,L as _e,M as ye,N as Ce,O as $e,Q as Se,R as we,a as ke,w as v,b as Ie,S as Oe,o as Pe,e as M,U as N,V as Be,W as De,X as L,Y as je,Z as Me,$ as ae,_ as Fe}from"./index-C1QPqyz8.js";import{F as Ge,_ as Re,A as Ve,L as ze,K as Ae}from"./LockOutlined-D94Dx3M0.js";var Ee=function(e,a){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)a.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};const Te={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:te.any,required:Boolean},Ke=U({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:de(Te,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(e,a){let{attrs:n,emit:o,expose:c}=a;const _=C(e.checked===void 0?e.defaultChecked:e.checked),x=C();q(()=>e.checked,()=>{_.value=e.checked}),c({focus(){var r;(r=x.value)===null||r===void 0||r.focus()},blur(){var r;(r=x.value)===null||r===void 0||r.blur()}});const $=C(),p=r=>{if(e.disabled)return;e.checked===void 0&&(_.value=r.target.checked),r.shiftKey=$.value;const f={target:u(u({},e),{checked:r.target.checked}),stopPropagation(){r.stopPropagation()},preventDefault(){r.preventDefault()},nativeEvent:r};e.checked!==void 0&&(x.value.checked=!!e.checked),o("change",f),$.value=!1},S=r=>{o("click",r),$.value=r.shiftKey};return()=>{const{prefixCls:r,name:f,id:t,type:g,disabled:d,readonly:w,tabindex:O,autofocus:k,value:h,required:R}=e,l=Ee(e,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:s,onFocus:b,onBlur:m,onKeydown:y,onKeypress:V,onKeyup:z}=n,j=u(u({},l),n),B=Object.keys(j).reduce((T,D)=>((D.startsWith("data-")||D.startsWith("aria-")||D==="role")&&(T[D]=j[D]),T),{}),Y=X(r,s,{[`${r}-checked`]:_.value,[`${r}-disabled`]:d}),H=u(u({name:f,id:t,type:g,readonly:w,disabled:d,tabindex:O,class:`${r}-input`,checked:!!_.value,autofocus:k,value:h},B),{onChange:p,onClick:S,onFocus:b,onBlur:m,onKeydown:y,onKeypress:V,onKeyup:z,required:R});return i("span",{class:Y},[i("input",E({ref:x},H),null),i("span",{class:`${r}-inner`},null)])}}}),Ne=new me("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Le=e=>{const{checkboxCls:a}=e,n=`${a}-wrapper`;return[{[`${a}-group`]:u(u({},W(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:u(u({},W(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[a]:u(u({},W(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${a}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${a}-inner`]:u({},pe(e))},[`${a}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[a]:{"&-indeterminate":{[`${a}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${a}:after`]:{visibility:"visible"},[`
        ${n}:not(${n}-disabled),
        ${a}:not(${a}-disabled)
      `]:{[`&:hover ${a}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${a}-checked:not(${a}-disabled) ${a}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${a}-checked:not(${a}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${a}-checked`]:{[`${a}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:Ne,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${n}-checked:not(${n}-disabled),
        ${a}-checked:not(${a}-disabled)
      `]:{[`&:hover ${a}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${a}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${a}-disabled`]:{[`&, ${a}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${a}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${a}-indeterminate ${a}-inner::after`]:{background:e.colorTextDisabled}}}]};function Ue(e,a){const n=fe(a,{checkboxCls:`.${e}`,checkboxSize:a.controlInteractiveSize});return[Le(n)]}const le=ue("Checkbox",(e,a)=>{let{prefixCls:n}=a;return[Ue(n,e)]}),He=()=>({name:String,prefixCls:String,options:J([]),disabled:Boolean,id:String}),We=()=>u(u({},He()),{defaultValue:J(),value:J(),onChange:A(),"onUpdate:value":A()}),qe=()=>({prefixCls:String,defaultChecked:P(),checked:P(),disabled:P(),isGroup:P(),value:te.any,name:String,id:String,indeterminate:P(),type:be("checkbox"),autofocus:P(),onChange:A(),"onUpdate:checked":A(),onClick:A(),skipGroup:P(!1)}),Xe=()=>u(u({},qe()),{indeterminate:P(!1)}),se=Symbol("CheckboxGroupContext");var ne=function(e,a){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)a.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};const G=U({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:Xe(),setup(e,a){let{emit:n,attrs:o,slots:c,expose:_}=a;const x=oe(),$=ve.useInject(),{prefixCls:p,direction:S,disabled:r}=re("checkbox",e),f=ge(),[t,g]=le(p),d=he(se,void 0),w=Symbol("checkboxUniId"),O=F(()=>(d==null?void 0:d.disabled.value)||r.value);xe(()=>{!e.skipGroup&&d&&d.registerValue(w,e.value)}),_e(()=>{d&&d.cancelValue(w)}),ye(()=>{Ce(!!(e.checked!==void 0||d||e.value===void 0))});const k=s=>{const b=s.target.checked;n("update:checked",b),n("change",s),x.onFieldChange()},h=C();return _({focus:()=>{var s;(s=h.value)===null||s===void 0||s.focus()},blur:()=>{var s;(s=h.value)===null||s===void 0||s.blur()}}),()=>{var s;const b=$e((s=c.default)===null||s===void 0?void 0:s.call(c)),{indeterminate:m,skipGroup:y,id:V=x.id.value}=e,z=ne(e,["indeterminate","skipGroup","id"]),{onMouseenter:j,onMouseleave:B,onInput:Y,class:H,style:T}=o,D=ne(o,["onMouseenter","onMouseleave","onInput","class","style"]),I=u(u(u(u({},z),{id:V,prefixCls:p.value}),D),{disabled:O.value});d&&!y?(I.onChange=function(){for(var Z=arguments.length,ee=new Array(Z),K=0;K<Z;K++)ee[K]=arguments[K];n("change",...ee),d.toggleOption({label:b,value:e.value})},I.name=d.name.value,I.checked=d.mergedValue.value.includes(e.value),I.disabled=O.value||f.value,I.indeterminate=m):I.onChange=k;const ie=X({[`${p.value}-wrapper`]:!0,[`${p.value}-rtl`]:S.value==="rtl",[`${p.value}-wrapper-checked`]:I.checked,[`${p.value}-wrapper-disabled`]:I.disabled,[`${p.value}-wrapper-in-form-item`]:$.isFormItemInput},H,g.value),ce=X({[`${p.value}-indeterminate`]:m},g.value);return t(i("label",{class:ie,style:T,onMouseenter:j,onMouseleave:B},[i(Ke,E(E({"aria-checked":m?"mixed":void 0},I),{},{class:ce,ref:h}),null),b.length?i("span",null,[b]):null]))}}}),Q=U({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:We(),setup(e,a){let{slots:n,attrs:o,emit:c,expose:_}=a;const x=oe(),{prefixCls:$,direction:p}=re("checkbox",e),S=F(()=>`${$.value}-group`),[r,f]=le(S),t=C((e.value===void 0?e.defaultValue:e.value)||[]);q(()=>e.value,()=>{t.value=e.value||[]});const g=F(()=>e.options.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l)),d=C(Symbol()),w=C(new Map),O=l=>{w.value.delete(l),d.value=Symbol()},k=(l,s)=>{w.value.set(l,s),d.value=Symbol()},h=C(new Map);return q(d,()=>{const l=new Map;for(const s of w.value.values())l.set(s,!0);h.value=l}),Se(se,{cancelValue:O,registerValue:k,toggleOption:l=>{const s=t.value.indexOf(l.value),b=[...t.value];s===-1?b.push(l.value):b.splice(s,1),e.value===void 0&&(t.value=b);const m=b.filter(y=>h.value.has(y)).sort((y,V)=>{const z=g.value.findIndex(B=>B.value===y),j=g.value.findIndex(B=>B.value===V);return z-j});c("update:value",m),c("change",m),x.onFieldChange()},mergedValue:t,name:F(()=>e.name),disabled:F(()=>e.disabled)}),_({mergedValue:t}),()=>{var l;const{id:s=x.id.value}=e;let b=null;return g.value&&g.value.length>0&&(b=g.value.map(m=>{var y;return i(G,{prefixCls:$.value,key:m.value.toString(),disabled:"disabled"in m?m.disabled:e.disabled,indeterminate:m.indeterminate,value:m.value,checked:t.value.indexOf(m.value)!==-1,onChange:m.onChange,class:`${S.value}-item`},{default:()=>[n.label!==void 0?(y=n.label)===null||y===void 0?void 0:y.call(n,m):m.label]})})),r(i("div",E(E({},o),{},{class:[S.value,{[`${S.value}-rtl`]:p.value==="rtl"},o.class,f.value],id:s}),[b||((l=n.default)===null||l===void 0?void 0:l.call(n))]))}}});G.Group=Q;G.install=function(e){return e.component(G.name,G),e.component(Q.name,Q),e};const Je=()=>({username:[{required:!0,message:"请输入用户名"},{min:3,message:"用户名至少需要3个字符"}],password:[{required:!0,message:"请输入密码"}],remember:[]}),Qe=()=>({username:!1,password:!1,remember:!0}),Ye=U({__name:"LoginPage",setup(e){const a=Oe(),n=C(),o=we({username:"",password:"",remember:!1}),c=Je(),_=C(Qe()),x=(f,t)=>{_.value[f]=t},$=F(()=>Object.entries(_.value).filter(([f])=>c[f].length>0).every(([,f])=>f)),p=C(!1),S=async f=>{var t;p.value=!0;try{await Me({username:f.username,password:f.password,remember:f.remember}),ae.success("登录成功"),a.replace({name:"home-view"}).then()}catch(g){(t=n.value)==null||t.resetFields("password"),ae.error(`登录失败：${g.response.data}`)}finally{p.value=!1}},r=()=>{a.push({name:"register-page"})};return(f,t)=>{const g=Be,d=Re,w=De,O=G,k=je,h=Ie,R=Ge;return Pe(),ke(h,{class:"login",vertical:"",justify:"center",align:"center",gap:18},{default:v(()=>[t[10]||(t[10]=M("div",{class:"login__title-group"},[M("div",{class:"login__title"},"登录"),M("div",{class:"login__subtitle"},"欢迎回到Raku Anime")],-1)),i(R,{class:"login__form",ref_key:"formRef",ref:n,"scroll-to-first-error":"",model:o,rules:N(c),onValidate:x,onFinish:S},{default:v(()=>[i(d,{class:"login__form-item",name:"username"},{default:v(()=>[t[3]||(t[3]=M("div",{class:"login__label"},"用户名：",-1)),i(g,{value:o.username,"onUpdate:value":t[0]||(t[0]=l=>o.username=l),size:"large",placeholder:"请输入用户名","allow-clear":""},{prefix:v(()=>[i(N(Ve),{class:"login__icon"})]),_:1},8,["value"])]),_:1}),i(d,{class:"login__form-item",name:"password"},{default:v(()=>[t[4]||(t[4]=M("div",{class:"login__label"},"密码：",-1)),i(w,{value:o.password,"onUpdate:value":t[1]||(t[1]=l=>o.password=l),size:"large",type:"password",placeholder:"请输入密码","allow-clear":""},{prefix:v(()=>[i(N(ze),{class:"login__icon"})]),_:1},8,["value"])]),_:1}),i(d,{class:"login__form-item",name:"remember"},{default:v(()=>[i(h,{class:"login__options",justify:"space-between",align:"center"},{default:v(()=>[i(O,{class:"login__remember",checked:o.remember,"onUpdate:checked":t[2]||(t[2]=l=>o.remember=l)},{default:v(()=>t[5]||(t[5]=[L(" 记住我 ")])),_:1},8,["checked"]),i(k,{class:"login__forgot",type:"link"},{default:v(()=>t[6]||(t[6]=[L("忘记密码？")])),_:1})]),_:1})]),_:1}),i(d,{class:"login__form-item"},{default:v(()=>[i(k,{class:"login__submit",size:"large",type:"primary","html-type":"submit",disabled:!$.value,loading:p.value},{default:v(()=>t[7]||(t[7]=[L(" 登录 ")])),_:1},8,["disabled","loading"])]),_:1}),i(h,{class:"login__register",justify:"flex-end",align:"center",gap:"6"},{default:v(()=>[t[9]||(t[9]=M("div",null,"还没有账号？",-1)),i(k,{type:"link",size:"small",onClick:r,class:"login__register-link"},{default:v(()=>[i(h,{justify:"center",gap:2,class:"login__register-flex"},{default:v(()=>[t[8]||(t[8]=L(" 立即注册 ")),i(N(Ae),{class:"login__register-icon"})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}}),na=Fe(Ye,[["__scopeId","data-v-3188d1ed"]]);export{na as default};
